package com.fitness.bodypro100;

import java.util.Scanner;
import java.text.DecimalFormat;

public class BodyPro100_control {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        DecimalFormat df = new DecimalFormat("0.0");

        // 사용자 신체 상태
        double height = 0, weight = 0, muscle = 0, fat = 0;

        // 목표 수치
        final double GOAL_MUSCLE = 40.0;
        final double GOAL_FAT = 5.0;
        final double GOAL_WEIGHT = 70.0;
        int dDay = 100;

        // 초기 설정
        System.out.println("🏋️‍♂️ 바디프로필 챌린지 시작 🏁");
        System.out.print("키(cm): ");
        height = sc.nextDouble();
        System.out.print("몸무게(kg): ");
        weight = sc.nextDouble();
        System.out.print("근육량(kg): ");
        muscle = sc.nextDouble();
        System.out.print("체지방율(%): ");
        fat = sc.nextDouble();

        int sel = -1;

        while (true) {
            System.out.println("\n== 💪 BODYPRO_100 (D-" + dDay + ") ==");
            System.out.println("1. 현재 상태 조회");
            System.out.println("2. 운동 기록하기");
            System.out.println("3. 목표 현황 보기");
            System.out.println("4. 목표 수치 초기화");
            System.out.println("9. 종료");
            System.out.print("> ");
            sel = sc.nextInt();

            if (sel == 9) {
                System.out.println("🏁 프로그램을 종료합니다.");
                break;
            }

            switch (sel) {
                case 1:
                    System.out.println("[현재 상태]");
                    System.out.println("키: " + df.format(height) + "cm");
                    System.out.println("몸무게: " + df.format(weight) + "kg");
                    System.out.println("근육량: " + df.format(muscle) + "kg");
                    System.out.println("체지방: " + df.format(fat) + "%");
                    break;

                case 2:
                    System.out.println("운동 종류를 선택하세요.");
                    System.out.println("1. 벤치프레스 (50회당 근육량 +1)");
                    System.out.println("2. 턱걸이 (30회당 근육량 +1)");
                    System.out.println("3. 스쿼트 (100회당 근육 +1, 체지방 -0.3%)");
                    System.out.println("4. 런닝머신 (10분당 체지방 -0.5%, 근육량 -0.2)");
                    System.out.print("> ");
                    int workout = sc.nextInt();

                    if (workout == 1) {
                        System.out.print("벤치프레스 횟수: ");
                        int reps = sc.nextInt();
                        double gain = reps / 50.0;
                        muscle += gain;
                        weight += gain * 0.8;
                        System.out.println("근육량 +" + df.format(gain) + "kg");
                    } else if (workout == 2) {
                        System.out.print("턱걸이 횟수: ");
                        int reps = sc.nextInt();
                        double gain = reps / 30.0;
                        muscle += gain;
                        weight += gain * 0.5;
                        System.out.println("근육량 +" + df.format(gain) + "kg");
                    } else if (workout == 3) {
                        System.out.print("스쿼트 횟수: ");
                        int reps = sc.nextInt();
                        double gain = reps / 100.0;
                        muscle += gain;
                        fat -= 0.3 * gain;
                        if (fat < 0) fat = 0;
                        weight += gain * 0.7 - 0.2 * gain;
                        System.out.println("근육량 +" + df.format(gain) + "kg, 체지방 -" + df.format(0.3 * gain) + "%");
                    } else if (workout == 4) {
                        System.out.print("런닝머신 시간(분): ");
                        int min = sc.nextInt();
                        double fatLoss = min / 10.0 * 0.5;
                        double muscleLoss = min / 10.0 * 0.2;
                        fat -= fatLoss;
                        if (fat < 0) fat = 0;
                        muscle -= muscleLoss;
                        if (muscle < 0) muscle = 0;
                        weight -= 0.3 * (min / 10.0);
                        System.out.println("체지방 -" + df.format(fatLoss) + "%, 근육량 -" + df.format(muscleLoss) + "kg");
                    } else {
                        System.out.println("❌ 잘못된 선택입니다.");
                        break;
                    }

                    dDay--;
                    System.out.println("D-" + dDay + " 남았습니다.");
                    break;

                case 3:
                    System.out.println("[목표 현황]");
                    System.out.println("근육량: " + df.format(muscle) + "kg / 목표: " + GOAL_MUSCLE + "kg");
                    System.out.println("체지방: " + df.format(fat) + "% / 목표: " + GOAL_FAT + "%");
                    System.out.println("몸무게: " + df.format(weight) + "kg / 목표: " + GOAL_WEIGHT + "kg");

                    if (muscle >= GOAL_MUSCLE && fat <= GOAL_FAT && Math.abs(weight - GOAL_WEIGHT) < 0.01) {
                        System.out.println("🎉 목표 달성! 바디프로필 찍으러 갑시다!");
                        return; // 프로그램 종료
                    } else {
                        System.out.println("🔥 아직 목표에 도달하지 못했습니다. 화이팅!");
                    }
                    break;

                case 4:
                    System.out.println("목표 수치는 변경할 수 없습니다. 도전만이 존재합니다 💪");
                    break;

                default:
                    System.out.println("❌ 잘못된 입력입니다.");
                    break;
            }
        }

        sc.close();
    }
}
