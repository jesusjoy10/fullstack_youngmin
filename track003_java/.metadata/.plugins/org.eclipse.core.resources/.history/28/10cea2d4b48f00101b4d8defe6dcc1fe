package com.company.java006;

import java.text.DecimalFormat;
import java.util.Scanner;

public class Bank100_control {
    public static void main(String[] args) {
        int num = -1;
        String id = "", pass = "";
        double balance = 0;
        Scanner scanner = new Scanner(System.in);

        // ìˆ«ì í¬ë§·: ì†Œìˆ˜ì  ì´í•˜ê°€ .00ì´ë©´ ìƒëµ, ì•„ë‹ˆë©´ ìµœëŒ€ ë‘ ìë¦¬ê¹Œì§€ í‘œì‹œ
        DecimalFormat df = new DecimalFormat("#,##0.##");

        for (;;) {
            System.out.print("\n\n== ğŸ’°ë±…í¬ëŸ° ì—†ëŠ” ì˜ë¯¼BANKğŸ’° ==" +
                             "\n1. ì¶”ê°€" +
                             "\n2. ì¡°íšŒ" +
                             "\n3. ì…ê¸ˆ" +
                             "\n4. ì¶œê¸ˆ" +
                             "\n5. ì‚­ì œ" +
                             "\n6. ì´ì²´" +
                             "\n7. íƒ€í–‰ ì´ì²´" +
                             "\n9. ì¢…ë£Œ > ");
            num = scanner.nextInt();

            if (num == 9) {
                System.out.println("ì¢…ë£Œí•©ë‹ˆë‹¤.");
                break;
            } 
            else if (num == 1) {
                System.out.print("ID ì…ë ¥ > ");
                id = scanner.next();
                System.out.print("PASS ì…ë ¥ > ");
                pass = scanner.next();
                System.out.print("ì”ì•¡ ì…ë ¥ > ");
                balance = scanner.nextDouble();
                System.out.println("ê³„ì¢Œ ìƒì„±ë¨. ì´ˆê¸° ì”ì•¡: " + df.format(balance) + "ì›");
            } 
            else if (num == 2 || num == 3 || num == 4 || num == 5 || num == 6 || num == 7) {
                // ì‚¬ìš©ì ì¸ì¦
                System.out.print("ID ì…ë ¥ > ");
                String tempId = scanner.next();
                System.out.print("PASS ì…ë ¥ > ");
                String tempPass = scanner.next();
                if (!(id.equals(tempId) && pass.equals(tempPass))) {
                    System.out.println("ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”!");
                    continue;
                }

                switch (num) {
                    case 2:
                        // ì¡°íšŒ
                        System.out.println("\n[ì¡°íšŒ ê²°ê³¼]");
                        System.out.println("ID: " + id);
                        System.out.println("PASS: " + pass);
                        System.out.println("ì”ì•¡: " + df.format(balance) + "ì›");
                        break;

                    case 3:
                        // ì…ê¸ˆ
                        System.out.print("ì…ê¸ˆí•  ê¸ˆì•¡ > ");
                        double inAmt = scanner.nextDouble();
                        double feeRateIn = 0.05;  // ê¸°ë³¸ ìˆ˜ìˆ˜ë£Œ 5%
                        double feeIn = inAmt * feeRateIn;
                        double netIn = inAmt - feeIn;
                        balance += netIn;
                        System.out.println("[ì…ê¸ˆ ê±°ë˜]");
                        System.out.println("ì…ê¸ˆ ìˆ˜ìˆ˜ë£Œ ëª…ëª©: ê¸°ë³¸ ì…ê¸ˆ ìˆ˜ìˆ˜ë£Œ (" + (int)(feeRateIn * 100) + "%)");
                        System.out.println("ì…ê¸ˆì•¡: " + df.format(inAmt) + "ì›, ìˆ˜ìˆ˜ë£Œ: " + df.format(feeIn) + "ì›, ì‹¤ì œ ì…ê¸ˆëœ ê¸ˆì•¡: " + df.format(netIn) + "ì›");
                        System.out.println("ì”ì•¡: " + df.format(balance) + "ì›");
                        break;

                    case 4:
                        // ì¶œê¸ˆ
                        System.out.print("ì¶œê¸ˆí•  ê¸ˆì•¡ > ");
                        double outAmt = scanner.nextDouble();
                        if (outAmt > balance) {
                            System.out.println("ì”ì•¡ì´ ëª¨ìëë‹ˆë‹¤.");
                            continue;
                        }
                        double feeRateOut = 0.05;  // ê¸°ë³¸ ì¶œê¸ˆ ìˆ˜ìˆ˜ë£Œ 5%
                        double feeOut = outAmt * feeRateOut;
                        double totalOut = outAmt + feeOut;
                        if (totalOut > balance) {
                            System.out.println("ìˆ˜ìˆ˜ë£Œ í¬í•¨ ì¶œê¸ˆì•¡ì´ ì”ì•¡ì„ ì´ˆê³¼í•©ë‹ˆë‹¤.");
                            continue;
                        }
                        balance -= totalOut;
                        System.out.println("[ì¶œê¸ˆ ê±°ë˜]");
                        System.out.println("ì¶œê¸ˆ ìˆ˜ìˆ˜ë£Œ ëª…ëª©: ê¸°ë³¸ ì¶œê¸ˆ ìˆ˜ìˆ˜ë£Œ (" + (int)(feeRateOut * 100) + "%)");
                        System.out.println("ì¶œê¸ˆì•¡: " + df.format(outAmt) + "ì›, ìˆ˜ìˆ˜ë£Œ: " + df.format(feeOut) + "ì›, ì´ ì°¨ê°ì•¡: " + df.format(totalOut) + "ì›");
                        System.out.println("ì”ì•¡: " + df.format(balance) + "ì›");
                        break;

                    case 5:
                        // ì‚­ì œ
                        System.out.println("ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n) > ");
                        String answer = scanner.next();
                        if (!answer.toLowerCase().equals("y")) {
                            System.out.println("ì‚­ì œ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.");
                            continue;
                        }
                        id = "";
                        pass = "";
                        balance = 0;
                        System.out.println("ê³„ì¢Œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
                        break;

                    case 6:
                        // ì´ì²´
                        System.out.print("ì´ì²´í•  ê¸ˆì•¡ > ");
                        double tranAmt = scanner.nextDouble();
                        if (tranAmt > balance) {
                            System.out.println("ì”ì•¡ì´ ëª¨ìëë‹ˆë‹¤.");
                            continue;
                        }
                        balance -= tranAmt;
                        System.out.println("[ì´ì²´ ê±°ë˜]");
                        System.out.println("ì´ì²´ê¸ˆì•¡: " + df.format(tranAmt) + "ì›");
                        System.out.println("ì”ì•¡: " + df.format(balance) + "ì›");
                        break;

                    case 7:
                        // íƒ€í–‰ ì´ì²´
                        System.out.print("ì´ì²´í•  ê¸ˆì•¡ > ");
                        double tranAmt2 = scanner.nextDouble();
                        if (tranAmt2 > balance) {
                            System.out.println("ì”ì•¡ì´ ëª¨ìëë‹ˆë‹¤.");
                            continue;
                        }
                        balance -= tranAmt2;
                        System.out.println("[íƒ€í–‰ ì´ì²´ ê±°ë˜]");
                        System.out.println("ì´ì²´ê¸ˆì•¡: " + df.format(tranAmt2) + "ì›");
                        System.out.println("ì”ì•¡: " + df.format(balance) + "ì›");
                        break;
                }
            }
        }
    }
}
